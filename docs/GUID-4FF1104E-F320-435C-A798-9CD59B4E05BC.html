<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" data-whc_version="24.1">
    <head><link rel="shortcut icon" href="oxygen-webhelp\template\resources/images/favicon.ico"/><link rel="icon" href="oxygen-webhelp\template\resources/images/favicon.ico"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="TOU stands for “Time of Use”, and it is a relevant concept in the smart energy meters. The energy consumption is assigned and grouped into different time zones. These time zones could correspond to ..."/><meta name="copyright" content="(C) Copyright 2023"/><meta name="generator" content="DITA-OT"/><title>1.3.1.3.9 TOU and Energy Registering</title><!--  Generated with Oxygen version 24.1, build number 2022062014.  --><meta name="wh-path2root" content=""/><meta name="wh-toc-id" content="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC-d3750e3702"/><meta name="wh-source-relpath" content="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC.xml"/><meta name="wh-out-relpath" content="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC.html"/>
    <!-- Latest compiled and minified Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="./oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css"/>
    
    <link rel="stylesheet" href="./oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css"/>
    
    <!-- Template default styles  -->
    <link rel="stylesheet" type="text/css" href="./oxygen-webhelp/app/topic-page.css?buildId=2022062014"/>
    
    
    <script src="./oxygen-webhelp/lib/jquery/jquery-3.5.1.min.js"></script>
    
    <script data-main="./oxygen-webhelp/app/topic-page.js" src="./oxygen-webhelp/lib/requirejs/require.js"></script>
<link rel="stylesheet" type="text/css" href="oxygen-webhelp/template/microchip.css?buildId=2022062014"/><link rel="stylesheet" type="text/css" href="oxygen-webhelp/template/notes.css?buildId=2022062014"/>
<script src="mchp-context-help.js"></script>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async="" type="text/javascript"></script>
</head>

    <body id="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">
            Jump to main content
        </a>
        
        
        
        
        <header class="navbar navbar-default wh_header">
    <div class="container-fluid">
        <div class="wh_header_flex_container navbar-nav navbar-expand-md navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <a href="index.html" class=" wh_logo d-none d-sm-block "><img src="oxygen-webhelp\template\resources/images/microchip.png" alt="MPLAB Harmony Smart Energy Library "/></a>
                    <div class=" wh_publication_title "><a href="index.html">MPLAB Harmony Smart Energy Library </a></div>
                    
                </div>
                
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                
                
                
            </div>
        </div>
    </div>
</header>
        
        
         
        
        <div class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="search.html"><div class="d-flex justify-contents-around"><div class="flex-grow-1"></div><div class="position-relative flex-grow-1"><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required"/><button type="submit" class="wh_search_button" aria-label="Search"><span class="search_input_text">Search</span></button></div><div class="align-self-center flex-grow-1 ml-2"></div></div></form>
            
            <div class="mchp-color-stripe-grid-container">
  <div class="mchp-main-bar mchp-orange-bar"></div>
  <div class="mchp-main-bar mchp-blue-bar"></div>
  <div class="mchp-main-bar mchp-green-bar"></div>
</div>
            
        </div>
        
        <div class="container-fluid" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none navbar-expand-md" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="index.html"><span>Home</span></a></span></li><li><div class="topicref" data-id="mplab-harmony-smart-energy-library"><div class="title"><a href="GUID-81A73CB2-02C0-41CF-9C28-0AECE56FFF26.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1</ph>
MPLAB® Harmony Smart Energy Library</a></div></div></li><li><div class="topicref" data-id="demo-applications"><div class="title"><a href="GUID-2188B5B7-760D-4261-AEB9-DDCD9B01A109.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3</ph>
Demo Applications</a></div></div></li><li><div class="topicref" data-id="demo-meter-application"><div class="title"><a href="GUID-A4FB6CF6-F917-4873-BBF0-AD192B833A11.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.1</ph>
Demo Meter Application</a></div></div></li><li><div class="topicref" data-id="metering-demo-running-application"><div class="title"><a href="GUID-FBD90D2A-0E60-4648-B014-FA0161280AA5.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.1.3</ph>
Metering Demo Running Application</a></div></div></li><li class="active"><div class="topicref" data-id="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC"><div class="title"><a href="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.1.3.9</ph>
TOU and Energy Registering</a></div></div></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="Collapse sections" title="Collapse sections"></button>
                        
                        
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div>
                        
                        <button type="button" id="wh_toc_button" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        <nav id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-12 d-md-block d-none d-print-none" aria-label="Table of Contents Container">
                            <div id="wh_publication_toc_content">
		                        
                            	<div class=" wh_publication_toc " data-tooltip-position="right"><span class="expand-button-action-labels"><span id="button-expand-action" role="button" aria-label="Expand"></span><span id="button-collapse-action" role="button" aria-label="Collapse"></span><span id="button-pending-action" role="button" aria-label="Pending"></span></span><ul role="tree" aria-label="Table of Contents"><li role="treeitem" aria-expanded="true"><div data-tocid="mplab-harmony-smart-energy-library-d3750e11" class="topicref" data-id="mplab-harmony-smart-energy-library" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action mplab-harmony-smart-energy-library-d3750e11-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-81A73CB2-02C0-41CF-9C28-0AECE56FFF26.html" id="mplab-harmony-smart-energy-library-d3750e11-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1</ph>
MPLAB® Harmony Smart Energy Library</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="driver-libraries-d3750e19" class="topicref" data-id="driver-libraries" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action driver-libraries-d3750e19-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-97853572-2DF9-4BDC-8CC2-427931EE96D9.html" id="driver-libraries-d3750e19-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.1</ph>
Driver Libraries</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="service-libraries-d3750e1875" class="topicref" data-id="service-libraries" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action service-libraries-d3750e1875-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-3DBF4BBC-895F-4E64-901F-C76DB2918FDD.html" id="service-libraries-d3750e1875-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2</ph>
Service Libraries</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="demo-applications-d3750e3287" class="topicref" data-id="demo-applications" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action demo-applications-d3750e3287-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-2188B5B7-760D-4261-AEB9-DDCD9B01A109.html" id="demo-applications-d3750e3287-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3</ph>
Demo Applications</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="true"><div data-tocid="demo-meter-application-d3750e3295" class="topicref" data-id="demo-meter-application" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action demo-meter-application-d3750e3295-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-A4FB6CF6-F917-4873-BBF0-AD192B833A11.html" id="demo-meter-application-d3750e3295-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.1</ph>
Demo Meter Application</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="metering-demo-root-layer-project-graph-d3750e3303" class="topicref" data-id="metering-demo-root-layer-project-graph" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action metering-demo-root-layer-project-graph-d3750e3303-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-16CEBB74-5878-4BFE-B93C-DF5E026A59E8.html" id="metering-demo-root-layer-project-graph-d3750e3303-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.1.1</ph>
Metering Demo Root layer Project Graph</a></div></div></li><li role="treeitem"><div data-tocid="metering-demo-hardware-configuration-d3750e3367" class="topicref" data-id="metering-demo-hardware-configuration" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-C1154A14-04F4-464E-B9F0-AA94EF9BF937.html" id="metering-demo-hardware-configuration-d3750e3367-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.1.2</ph>
Metering Demo Hardware Configuration</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="metering-demo-running-application-d3750e3375" class="topicref" data-id="metering-demo-running-application" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action metering-demo-running-application-d3750e3375-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-FBD90D2A-0E60-4648-B014-FA0161280AA5.html" id="metering-demo-running-application-d3750e3375-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.1.3</ph>
Metering Demo Running Application</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><div data-tocid="GUID-EFF5C0F3-5850-4B70-A74E-EF32D29908CC-d3750e3383" class="topicref" data-id="GUID-EFF5C0F3-5850-4B70-A74E-EF32D29908CC" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-EFF5C0F3-5850-4B70-A74E-EF32D29908CC.html" id="GUID-EFF5C0F3-5850-4B70-A74E-EF32D29908CC-d3750e3383-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.1.3.1</ph>
Abbreviations and Acronyms</a></div></div></li><li role="treeitem"><div data-tocid="metrology-firmware---core-1-d3750e3391" class="topicref" data-id="metrology-firmware---core-1" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-2ABA21D8-E81B-4874-8E75-EB9806F5D42C.html" id="metrology-firmware---core-1-d3750e3391-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.1.3.2</ph>
Metrology Firmware - Core 1</a></div></div></li><li role="treeitem"><div data-tocid="GUID-6B723CE2-D4FF-447D-830A-0EB0B4C26995-d3750e3399" class="topicref" data-id="GUID-6B723CE2-D4FF-447D-830A-0EB0B4C26995" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-6B723CE2-D4FF-447D-830A-0EB0B4C26995.html" id="GUID-6B723CE2-D4FF-447D-830A-0EB0B4C26995-d3750e3399-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.1.3.3</ph>
Prepare the Board for the Meter Tester</a><div class="wh-tooltip"><p class="shortdesc"></p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-CAE76D2E-3269-4F93-9BC5-9181B397DA3A-d3750e3409" class="topicref" data-id="GUID-CAE76D2E-3269-4F93-9BC5-9181B397DA3A" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-CAE76D2E-3269-4F93-9BC5-9181B397DA3A-d3750e3409-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-CAE76D2E-3269-4F93-9BC5-9181B397DA3A.html" id="GUID-CAE76D2E-3269-4F93-9BC5-9181B397DA3A-d3750e3409-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.1.3.4</ph>
Calibrate the Demo Board Using the Demo Meter Application</a></div></div></li><li role="treeitem"><div data-tocid="GUID-6684BFBA-B11C-4477-B70A-BA02AB075B22-d3750e3465" class="topicref" data-id="GUID-6684BFBA-B11C-4477-B70A-BA02AB075B22" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-6684BFBA-B11C-4477-B70A-BA02AB075B22.html" id="GUID-6684BFBA-B11C-4477-B70A-BA02AB075B22-d3750e3465-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.1.3.5</ph>
Demo Modes</a><div class="wh-tooltip"><p class="shortdesc"></p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-2F25D9D4-6D33-4C7F-905D-B64EDB6370ED-d3750e3475" class="topicref" data-id="GUID-2F25D9D4-6D33-4C7F-905D-B64EDB6370ED" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-2F25D9D4-6D33-4C7F-905D-B64EDB6370ED-d3750e3475-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-2F25D9D4-6D33-4C7F-905D-B64EDB6370ED.html" id="GUID-2F25D9D4-6D33-4C7F-905D-B64EDB6370ED-d3750e3475-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.1.3.6</ph>
Demo Meter Application Commands</a></div></div></li><li role="treeitem"><div data-tocid="GUID-A0BCB82A-134B-499A-A277-9EFE7CD8129F-d3750e3686" class="topicref" data-id="GUID-A0BCB82A-134B-499A-A277-9EFE7CD8129F" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-A0BCB82A-134B-499A-A277-9EFE7CD8129F.html" id="GUID-A0BCB82A-134B-499A-A277-9EFE7CD8129F-d3750e3686-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.1.3.7</ph>
Demo LCD Display</a></div></div></li><li role="treeitem"><div data-tocid="GUID-01D1E466-0B5A-47A6-93F8-6BB195A8B1B1-d3750e3694" class="topicref" data-id="GUID-01D1E466-0B5A-47A6-93F8-6BB195A8B1B1" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-01D1E466-0B5A-47A6-93F8-6BB195A8B1B1.html" id="GUID-01D1E466-0B5A-47A6-93F8-6BB195A8B1B1-d3750e3694-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.1.3.8</ph>
Event Record</a></div></div></li><li role="treeitem" class="active"><div data-tocid="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC-d3750e3702" class="topicref" data-id="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC.html" id="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC-d3750e3702-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.1.3.9</ph>
TOU and Energy Registering</a></div></div></li><li role="treeitem"><div data-tocid="GUID-89913B9A-7DAA-4D7C-A742-98D95F4EAE62-d3750e3710" class="topicref" data-id="GUID-89913B9A-7DAA-4D7C-A742-98D95F4EAE62" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-89913B9A-7DAA-4D7C-A742-98D95F4EAE62.html" id="GUID-89913B9A-7DAA-4D7C-A742-98D95F4EAE62-d3750e3710-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.1.3.10</ph>
Maximum Demand</a></div></div></li><li role="treeitem"><div data-tocid="GUID-28C5D506-AFF3-44D6-8483-1337B69B64B5-d3750e3719" class="topicref" data-id="GUID-28C5D506-AFF3-44D6-8483-1337B69B64B5" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-28C5D506-AFF3-44D6-8483-1337B69B64B5.html" id="GUID-28C5D506-AFF3-44D6-8483-1337B69B64B5-d3750e3719-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.1.3.11</ph>
Application (Core 0) Reset with Metrology (Core 1) Running Application Example</a></div></div></li><li role="treeitem"><div data-tocid="GUID-333504F0-1F1A-40DF-956F-555FB019661B-d3750e3727" class="topicref" data-id="GUID-333504F0-1F1A-40DF-956F-555FB019661B" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-333504F0-1F1A-40DF-956F-555FB019661B.html" id="GUID-333504F0-1F1A-40DF-956F-555FB019661B-d3750e3727-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.1.3.12</ph>
Metrology (Core 1) Reload with Application (Core 0) Running Application Example</a></div></div></li><li role="treeitem"><div data-tocid="GUID-E37C0C1C-261E-4F62-B8C3-048B887D0C37-d3750e3735" class="topicref" data-id="GUID-E37C0C1C-261E-4F62-B8C3-048B887D0C37" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-E37C0C1C-261E-4F62-B8C3-048B887D0C37.html" id="GUID-E37C0C1C-261E-4F62-B8C3-048B887D0C37-d3750e3735-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.1.3.13</ph>
Waveform Capture Function Usage Example</a></div></div></li></ul></li><li role="treeitem"><div data-tocid="running-demonstration-steps-d3750e3743" class="topicref" data-id="running-demonstration-steps" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-20088163-1F2F-45CC-8351-1E7BFF0CD05A.html" id="running-demonstration-steps-d3750e3743-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.1.4</ph>
Running Demonstration Steps</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="dual-core-demo-application-d3750e3751" class="topicref" data-id="dual-core-demo-application" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action dual-core-demo-application-d3750e3751-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-9FA1FFFF-E886-463A-8C9E-E2EA03789F2D.html" id="dual-core-demo-application-d3750e3751-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3.2</ph>
Dual Core Demo Application</a></div></div></li></ul></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="getting-started-with-mplab-harmony-plc-stack-d3750e3783" class="topicref" data-id="getting-started-with-mplab-harmony-plc-stack" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action getting-started-with-mplab-harmony-plc-stack-d3750e3783-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-4183CE78-B659-4918-8651-B77A34D15302.html" id="getting-started-with-mplab-harmony-plc-stack-d3750e3783-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">2</ph>
Getting Started with MPLAB® Harmony PLC Stack</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d3750e3888" class="topicref backmatter backmatter_parent" data-id="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d3750e3888-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B.html" id="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d3750e3888-link">Microchip Information</a></div></div></li></ul></div>
		                        
                            </div>
                        </nav>
                    
                    
                    <div class="col-lg-9 col-md-9 col-sm-12" id="wh_topic_body">
                        <button id="wh_close_publication_toc_button" class="close-toc-button d-none" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        
                        
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__GUID-EFA51321-7E65-46C3-AA3B-B08A1EE204BB">
<h1 class="- topic/title title topictitle1" id="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__GUID-EFA51321-7E65-46C3-AA3B-B08A1EE204BB" style="">1.3.1.3.9 TOU and Energy Registering</h1>
<div class="- topic/body body">
        <p class="- topic/p p">TOU stands for “Time of Use”, and it is a relevant concept in the smart energy meters.
            The energy consumption is assigned and grouped into different time zones. These time
            zones could correspond to intervals of the day, to special days (for example, weekends)
            or periods (for example, summer). Each time zone has an associated tariff for billing
            purposes.</p>
        <p class="- topic/p p">The application provides a simple implementation that can be easily modified.
            Specifically, the day hours are divided into several time zones (maximum 8). Each time
            zone is associated to an identifier (maximum 4) and corresponding to a tariff. As an
            example, suppose three tariffs are defined:</p>
        <ul class="- topic/ul ul" id="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__UL_BFR_K4D_4MB" data-ofbid="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__UL_BFR_K4D_4MB">
            <li class="- topic/li li" id="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__GUID-89EE3ACA-62B4-48B6-AB4B-717D0C87EA71" data-ofbid="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__GUID-89EE3ACA-62B4-48B6-AB4B-717D0C87EA71">Id 1: Peak tariff, corresponding to
                peak times and having the higher prices. It is the red zone of the graph, from 9:00
                to 16:00</li>
            <li class="- topic/li li" id="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__GUID-B0AE0523-B888-468B-97CC-C194B4B50B2E" data-ofbid="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__GUID-B0AE0523-B888-468B-97CC-C194B4B50B2E">Id 2: Medium tariff, related with
                intermediate prices. It is the yellow zone of the graph, from 5:00 to 9:00 and from
                16:00 to 20:00</li>
            <li class="- topic/li li" id="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__GUID-AA13D54E-04EF-4FC5-A21A-B5FA9FA61312" data-ofbid="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__GUID-AA13D54E-04EF-4FC5-A21A-B5FA9FA61312">Id 3: Valley tariff, with lower
                prices. It is the green zone of the graph, from 20:00 to 5:00</li>
        </ul>
        <figure class="- topic/fig fig fignone" id="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__FIG_BYN_P4D_4MB" data-ofbid="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__FIG_BYN_P4D_4MB"><figcaption class="- topic/title title figcapcenter"><span class="figtitleprefix fig--title-label">Figure 1-124. <span id="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__GUID-D3C3AA01-3F95-4FBA-939B-2F1924B9B763" class="fig--title">Tariffs Example</span></span></figcaption>
            
            <div class="imagecenter"><div class="imagecenter break break"><img class="- topic/image image imagecenter break break" id="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__IMAGE_CYN_P4D_4MB" src="GUID-92799589-CBB1-4F51-8AAF-8ED46FF10688-low.png" height="216" width="360"/></div></div>
        </figure>
        <p class="- topic/p p">So, there are 3 tariffs and 4 time zones. The “TOUW” command is used to define the time
            zones and to assign the tariff to each time zone. The command to be sent is:
            “TOUW[PIC](05:00 02 09:00 01 16:00 02 20:00 03)“</p>
        <p class="- topic/p p">The metrology library is continuously measuring energy, and the application accumulates
            the energy in the proper tariff according to the real time clock information. This way,
            all the energy registered in the red area is accumulated in tariff 1 (T1), the energy in
            the yellow areas in tariff 2 (T2), and the energy in the green areas in tariff 3
            (T3).</p>
        <p class="- topic/p p">Here is a simple example:</p>
        <ul class="- topic/ul ul" id="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__UL_JY3_R4D_4MB" data-ofbid="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__UL_JY3_R4D_4MB">
            <li class="- topic/li li" id="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__GUID-5A861B11-B83B-4555-A56B-626CE72130B1" data-ofbid="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__GUID-5A861B11-B83B-4555-A56B-626CE72130B1">Write the new TOU
                table<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code><strong class="+ topic/ph hi-d/b ph b">TOUW[PIC](05:00 02 09:00 01 16:00 02 20:00 03)</strong>
Set TOU is Ok !·
</code></pre></li>
            <li class="- topic/li li" id="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__GUID-4D9882BC-26B3-4861-B8D0-DF1ADEC86D56" data-ofbid="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__GUID-4D9882BC-26B3-4861-B8D0-DF1ADEC86D56">Erase the energy records in the
                meter<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code><strong class="+ topic/ph hi-d/b ph b">ENC[PIC]</strong>
Clear Energy is ok !
<strong class="+ topic/ph hi-d/b ph b">ENR[0]</strong>
Last 0 Month Energy is :
TT=0.0kWh T1=0.0kWh T2=0.0kWh T3=0.0kWh T4=0.0kWh
</code></pre></li>
            <li class="- topic/li li" id="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__GUID-05093422-52BB-4BD1-A642-C5DCEB2D473F" data-ofbid="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__GUID-05093422-52BB-4BD1-A642-C5DCEB2D473F">Read the
                RTC<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code><strong class="+ topic/ph hi-d/b ph b">RTCR</strong>
Present RTC is :
20-07-28 2 04:58:04
</code></pre></li>
            <li class="- topic/li li" id="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__GUID-B3C8255B-94AD-44CA-B787-D9ED944868E6" data-ofbid="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__GUID-B3C8255B-94AD-44CA-B787-D9ED944868E6">The present time corresponds to
                tariff 3 (green area), but soon the system will enter in tariff 2 (yellow area).
                Now, the user energizes the meter test bench to force the board to register energy.
                Then, the user reads the energy register and the RTC several times to see how the
                energy measured is being registered and assigned to the proper
                    tariff.<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code><strong class="+ topic/ph hi-d/b ph b">ENR[0]</strong>
Last 0 Month Energy is :
TT=0.01kWh T1=0.0kWh T2=0.0kWh T3=0.01kWh T4=0.0kWh
<strong class="+ topic/ph hi-d/b ph b">RTCR</strong>
Present RTC is :
20-07-28 2 04:58:41
<strong class="+ topic/ph hi-d/b ph b">ENR[0]</strong>
Last 0 Month Energy is :
TT=0.04kWh T1=0.0kWh T2=0.0kWh T3=0.04kWh T4=0.0kWh
<strong class="+ topic/ph hi-d/b ph b">RTCR</strong>
Present RTC is :
20-07-28 2 04:59:13
<strong class="+ topic/ph hi-d/b ph b">ENR[0]</strong>
Last 0 Month Energy is :
TT=0.07kWh T1=0.0kWh T2=0.0kWh T3=0.07kWh T4=0.0kWh
<strong class="+ topic/ph hi-d/b ph b">RTCR</strong>
Present RTC is :
20-07-28 2 04:59:47
</code></pre><p class="- topic/p p">The application is assigning all the energy measured to tariff 3
                    (T3). The other tariffs remain at 0 KWh.</p></li>
            <li class="- topic/li li" id="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__GUID-C74EC4AC-0629-4522-8451-2CE506773F5E" data-ofbid="GUID-4FF1104E-F320-435C-A798-9CD59B4E05BC__GUID-C74EC4AC-0629-4522-8451-2CE506773F5E">Now, the time zone will change to the
                yellow area. The user continues reading:<pre class="+ topic/pre pr-d/codeblock pre codeblock"><code><strong class="+ topic/ph hi-d/b ph b">ENR[0]</strong>
Last 0 Month Energy is :
TT=0.09kWh T1=0.0kWh T2=0.01kWh T3=0.08kWh T4=0.0kWh
<strong class="+ topic/ph hi-d/b ph b">RTCR</strong>
Present RTC is :
20-07-28 2 05:00:22
<strong class="+ topic/ph hi-d/b ph b">ENR[0]</strong>
Last 0 Month Energy is :
TT=0.11kWh T1=0.0kWh T2=0.03kWh T3=0.08kWh T4=0.0kWh
<strong class="+ topic/ph hi-d/b ph b">RTCR</strong>
Present RTC is :
20-07-28 2 05:00:42
</code></pre><p class="- topic/p p">The system changed to the yellow area; therefore, the energy is now
                    assigned to tariff 2 (T2). “TT” registers the total energy.</p></li>
        </ul>
    </div>
</article></main></div>
                        
                        
                        
                        
                        
                        
                    </div>
                    
                </div>
            </div>
            
            
            
        </div> 
        <div class="mchp_disclaimer"><p class="mchp_disclaimer_text">The online versions of the documents are provided as a courtesy. Verify all content and data in the device’s PDF documentation found on the device product page.</p></div><footer class="navbar navbar-default wh_footer">
  <div class=" footer-container mx-auto ">
    <div class="footer">
  <div class="mchp-wh-footer">
    <div class="mchp-footer">
      <div class="mchp-footer-tier1">
        <div class="spacer"></div>
        <div class="mchp-footer-container">
          <div class="mchp-footer-links mchp-social-media-links">
            <div class="mchp-component-items">
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.facebook.com/pages/Microchip-Technology-Inc/20320981741" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Facebook" src="oxygen-webhelp/template/resources/images/201016-corp-facebook.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.linkedin.com/company/microchip-technology" target="_blank">
                  <img class="cmp-image__image" alt="Microchip LinkedIn" src="oxygen-webhelp/template/resources/images/201016-corp-linkedin.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://twitter.com/MicrochipTech" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Twitter" src="oxygen-webhelp/template/resources/images/201016-corp-twitter.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.youtube.com/user/MicrochipTechnology" target="_blank">
                  <img class="cmp-image__image" alt="Microchip YouTube" src="oxygen-webhelp/template/resources/images/201016-corp-youtube.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.instagram.com/microchiptechnologyinc/" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Instagram" src="oxygen-webhelp/template/resources/images/201016-corp-instagram.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.weibo.com/microchiptech" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Weibo" src="oxygen-webhelp/template/resources/images/201016-corp-weibo.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.microchip.com/en-us/about/blog" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Blog" src="oxygen-webhelp/template/resources/images/201016-corp-blog.png"/>
                </a>
              </div>
            </div>
          </div>
          <div class="mchp-footer-links">
            <div class="mchp-component-items">
              <div class="mchp-component-item">
                <div class="link">
                  <a href="https://www.microchip.com/about-us/contact-us" class="mchp-link__link">Contact</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information" class="mchp-link__link">Legal</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information/privacy-policy" class="mchp-link__link">Privacy Policy</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information/microchip-cookie-statement" class="mchp-link__link">Cookies</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item">
                <div class="link">
                  <a href="https://careers.microchip.com/" class="mchp-link__link">Careers</a>
                  <span class="mchp-link__separator"></span>
                </div>
              </div>
            </div>
          </div>
          <div class="mchp-footer-newsletter">
            <div class="cmp-text">
              <p>Stay on the leading edge with our blog</p>
            </div>
            <div class="mchp-button-wrapper">
              <a role="button" href="https://www.microchip.com/en-us/about/blog" class="mchp-button mchp-button-regular solid">
                <span class="mchp-button__span">MicroSolutions</span>
              </a>
            </div>
          </div>
        </div>
        <div class="graphic">
          <img src="oxygen-webhelp/template/resources/images/footer-graphic.png"/>
        </div>
      </div>
      <div class="mchp-footer-tier2">
        <p class="mchp-copyright">© Copyright 1998-2022 Microchip Technology Inc. All rights reserved.</p>
      </div>
    </div>
  </div>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async="true" src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-19"></script>
  <script>
    window.dataLayer = window.dataLayer || [];  
    function gtag(){dataLayer.push(arguments);}  
    gtag('js', new Date());   
    gtag('config', 'UA-2724382-19');
  </script>
</div>
  </div>
</footer>
        
        <div id="go2top" class="d-print-none">
            <span class="oxy-icon oxy-icon-up"></span>
        </div>
        
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <div id="modal_img_container"></div>
            <div id="caption"></div>
        </div>
        
        
        
    </body>
</html>