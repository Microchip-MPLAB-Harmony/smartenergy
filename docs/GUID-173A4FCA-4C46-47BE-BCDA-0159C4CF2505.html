<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" data-whc_version="24.1">
    <head><link rel="shortcut icon" href="oxygen-webhelp\template\resources/images/favicon.ico"/><link rel="icon" href="oxygen-webhelp\template\resources/images/favicon.ico"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="The PLC PHY driver library is a single-client, single-instance based driver interface. The PLC PHY library communicates with a PLC transceiver using an SPI port, Direct Memory Access and the GPIO ..."/><meta name="copyright" content="(C) Copyright 2023"/><meta name="generator" content="DITA-OT"/><title>1.1.1.1 How the Library Works</title><!--  Generated with Oxygen version 24.1, build number 2022062014.  --><meta name="wh-path2root" content=""/><meta name="wh-toc-id" content="&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;&lt;?workdir /D:\InfoShare\Data\Publish\Data\fxsvxuvuwpy\work\temp?&gt;&lt;?workdir-uri file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/temp/?&gt;&lt;?path2project?&gt;&lt;?path2project-uri ./?&gt;&lt;?path2rootmap-uri ./?&gt;&lt;topic xmlns:dita-ot=&#34;http://dita-ot.sourceforge.net/ns/201007/dita-ot&#34; xmlns:ditaarch=&#34;http://dita.oasis-open.org/architecture/2005/&#34; class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; id=&#34;how-the-library-works&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;topic:1;184:15&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;title:1;184:15&#34;&gt;How the Library Works&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;body:1;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:1;184:15&#34;&gt;The PLC PHY driver library is a single-client, single-instance based driver interface.&lt;/p&gt;&lt;/body&gt;&lt;related-links class=&#34;- topic/related-links &#34;&gt;&lt;linkpool class=&#34;- topic/linkpool &#34; mapkeyref=&#34;GUID-F454DB36-5AD7-4DBC-882C-6FC64DF4ADB2&#34; xtrc=&#34;topicref:2;6:245&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-FA635396-BC44-4E55-B269-BFA0BE14FAD1.ditamap&#34;&gt;&lt;link class=&#34;- topic/link &#34; format=&#34;dita&#34; href=&#34;GUID-261B02C6-E685-4C12-8EB7-5E717F054F60.md&#34; mapclass=&#34;- map/topicref &#34; role=&#34;parent&#34; scope=&#34;local&#34; type=&#34;topic&#34; xtrc=&#34;topicref:1;6:99&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-FA635396-BC44-4E55-B269-BFA0BE14FAD1.ditamap&#34;&gt;&lt;?ditaot usertext?&gt;&lt;linktext class=&#34;- topic/linktext &#34;&gt;&lt;?ditaot gentext?&gt;PLC PHY Driver&lt;/linktext&gt;&lt;/link&gt;&lt;/linkpool&gt;&lt;/related-links&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; id=&#34;abstraction-model&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;topic:2;184:15&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;title:2;184:15&#34;&gt;Abstraction Model&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;body:2;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:2;184:15&#34;&gt;The PLC PHY library communicates with a PLC transceiver using an SPI port, Direct Memory Access and the GPIO controller.&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:3;184:15&#34;&gt;The PLC transceiver performs PHY duties of the communication protocol, thus allowing a high latency attendance from the host MCU.&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:4;184:15&#34;&gt;The PLC PHY library offers the necessary functions to control the transceiver, which include:&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;ul:1;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;li:1;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:5;184:15&#34;&gt;Library initialization.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;li:2;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:6;184:15&#34;&gt;Transmitting and Receiving PLC frames.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;li:3;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:7;184:15&#34;&gt;Accessing PLC Information Base (PIB) to get/set configuration parameters.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;li:4;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:8;184:15&#34;&gt;Enabling/Disabling transceiver Sleep Mode.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;li:5;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:9;184:15&#34;&gt;Check warnings due to Thermal Monitor control.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:10;184:15&#34;&gt;The client can be:&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;ul:2;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;li:6;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:11;184:15&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;b:1;184:15&#34;&gt;Application&lt;/b&gt;: Directly access the external PLC device (PL360/PL460) using the APIs provided by the PLC PHY Driver library.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;li:7;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:12;184:15&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;b:2;184:15&#34;&gt;PRIME PAL layer&lt;/b&gt;: Application can run a PLC communication stack (G3/PRIME) by connecting it to the Platform Abstraction Layer (PAL) which can further be connected to the PLC PHY driver. In G3 stack, the PLC PAL is connected to G3-PLC MAC-RT driver instead of PLC PHY driver.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;GUID-8B02A7C8-7F67-41C1-A3C8-0BDAF8D82163-low.png&#34; placement=&#34;break&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;image:1;184:15&#34; dita-ot:image-width=&#34;237&#34; dita-ot:image-height=&#34;446&#34; dita-ot:horizontal-dpi=&#34;96&#34; dita-ot:vertical-dpi=&#34;96&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;alt:1;184:15&#34;&gt;PLC_PHY_Library_works&lt;/alt&gt;&lt;/image&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; id=&#34;driver-initialization-and-instance-opening&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;topic:3;184:15&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;title:3;184:15&#34;&gt;Driver Initialization and instance opening&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;body:3;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:13;184:15&#34;&gt;First of all, driver has to be initialized by calling &lt;xref class=&#34;- topic/xref &#34; href=&#34;GUID-3FE78AB9-5672-4748-BEEE-ADD364C8774A.html&#34; format=&#34;html&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;xref:1;184:15&#34;&gt;&lt;?ditaot usertext?&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;i:1;184:15&#34;&gt;DRV_PLC_PHY_Initialize&lt;/i&gt;&lt;/xref&gt; to get a valid handle.&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:14;184:15&#34;&gt;Then, when an instance is opened by calling &lt;xref class=&#34;- topic/xref &#34; href=&#34;GUID-CC7037AE-6A1F-4EAF-894A-9588EEF3BEAD.html&#34; format=&#34;html&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;xref:2;184:15&#34;&gt;&lt;?ditaot usertext?&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;i:2;184:15&#34;&gt;DRV_PLC_PHY_Open&lt;/i&gt;&lt;/xref&gt;, the library loads a binary file onto the PLC transceiver. This is done using an internal transfer protocol through SPI port. After binary loading, the library manages the reset and startup of the transceiver. This task is transparent to the user, and the library is not available until binary file is transferred and thus PLC transceiver is ready to operate. At this point, the driver is ready to be configured and used. The status can be checked be calling &lt;xref class=&#34;- topic/xref &#34; href=&#34;GUID-E1673D08-316E-42AF-A8D8-9B2D3E9DABCE.html&#34; format=&#34;html&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;xref:3;184:15&#34;&gt;&lt;?ditaot usertext?&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;i:3;184:15&#34;&gt;DRV_PLC_PHY_Status&lt;/i&gt;&lt;/xref&gt;.&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; id=&#34;plc-transceiver-interrupt-mapping&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;topic:4;184:15&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;title:4;184:15&#34;&gt;PLC Transceiver Interrupt mapping&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;body:4;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:15;184:15&#34;&gt;PLC transceiver events have to be notified to the MCU in which PLC PHY Driver is running. This is done using a physical connection between the transceiver and an interrupt-capable PIO in MCU.&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:16;184:15&#34;&gt;The library implements &lt;xref class=&#34;- topic/xref &#34; href=&#34;GUID-CAC25733-1D0F-44AE-84B4-82D140523B79.html&#34; format=&#34;html&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;xref:4;184:15&#34;&gt;&lt;?ditaot usertext?&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;i:4;184:15&#34;&gt;DRV_PLC_PHY_ExternalInterruptHandler&lt;/i&gt;&lt;/xref&gt; function, which is set as callback to be invoked when the interrupt is triggered on PIO. This function then reads information from the transceiver and performs the required operations.&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; id=&#34;data-service-functions&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;topic:5;184:15&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;title:5;184:15&#34;&gt;Data Service Functions&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;body:5;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:17;184:15&#34;&gt;PLC communication capabilities are provided by the following functions:&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;ul:3;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;li:8;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:18;184:15&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;b:3;184:15&#34;&gt;Frame Transmission&lt;/b&gt;. Frames are trasnmitted to PLC using &lt;xref class=&#34;- topic/xref &#34; href=&#34;GUID-EB2FF372-3E82-4F17-8A72-E36EFEFD1B6A.html&#34; format=&#34;html&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;xref:5;184:15&#34;&gt;&lt;?ditaot usertext?&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;i:5;184:15&#34;&gt;DRV_PLC_PHY_TxRequest&lt;/i&gt;&lt;/xref&gt; function.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;li:9;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:19;184:15&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;b:4;184:15&#34;&gt;Transmission result&lt;/b&gt; is reported by library through the configured callback function set on &lt;xref class=&#34;- topic/xref &#34; href=&#34;GUID-8E175C09-6CD6-4846-A1D3-C49B7CB583E6.html&#34; format=&#34;html&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;xref:6;184:15&#34;&gt;&lt;?ditaot usertext?&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;i:6;184:15&#34;&gt;DRV_PLC_PHY_TxCfmCallbackRegister&lt;/i&gt;&lt;/xref&gt;.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;li:10;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:20;184:15&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;b:5;184:15&#34;&gt;Frame reception&lt;/b&gt; is reported by library through the configured callback function set on &lt;xref class=&#34;- topic/xref &#34; href=&#34;GUID-D33A9EC1-6EB5-4EB8-820A-BF8B6AFAC54D.html&#34; format=&#34;html&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;xref:7;184:15&#34;&gt;&lt;?ditaot usertext?&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;i:7;184:15&#34;&gt;DRV_PLC_PHY_DataIndCallbackRegister&lt;/i&gt;&lt;/xref&gt;.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; id=&#34;management-functions&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;topic:6;184:15&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;title:6;184:15&#34;&gt;Management Functions&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;body:6;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:21;184:15&#34;&gt;The PLC PHY library includes management functions to configure it and to retrieve information about the library, transceiver, and PLC medium status. Management functions include:&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;ul:4;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;li:11;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:22;184:15&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;b:6;184:15&#34;&gt;Information Base Access&lt;/b&gt;. There are several parameters at PHY level that can be written/read to change behaviour and get information to/from the library. In order to get/set these parameters, &lt;xref class=&#34;- topic/xref &#34; href=&#34;GUID-51BE7E9A-45DF-4673-9AE2-7D7163536E44.html&#34; format=&#34;html&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;xref:8;184:15&#34;&gt;&lt;?ditaot usertext?&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;i:8;184:15&#34;&gt;DRV_PLC_PHY_PIBGet&lt;/i&gt;&lt;/xref&gt; and &lt;xref class=&#34;- topic/xref &#34; href=&#34;GUID-01855CB4-57E8-4BE3-A093-14CBFFAABD51.html&#34; format=&#34;html&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;xref:9;184:15&#34;&gt;&lt;?ditaot usertext?&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;i:9;184:15&#34;&gt;DRV_PLC_PHY_PIBSet&lt;/i&gt;&lt;/xref&gt; functions are used. Available parameters are listed on &lt;xref class=&#34;- topic/xref &#34; href=&#34;GUID-FB84DD36-66A1-4AC7-8809-C528890A4B16.html&#34; format=&#34;html&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;xref:10;184:15&#34;&gt;&lt;?ditaot usertext?&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;i:10;184:15&#34;&gt;DRV_PLC_PHY_ID Enum (G3-PLC)&lt;/i&gt;&lt;/xref&gt; and &lt;xref class=&#34;- topic/xref &#34; href=&#34;GUID-35725EB2-BDEE-4B6A-B204-9B892470097A.html&#34; format=&#34;html&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;xref:11;184:15&#34;&gt;&lt;?ditaot usertext?&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;i:11;184:15&#34;&gt;DRV_PLC_PHY_ID Enum (PRIME)&lt;/i&gt;&lt;/xref&gt;.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;li:12;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:23;184:15&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;b:7;184:15&#34;&gt;PLC Transceiver Timer Referece&lt;/b&gt;. Every PLC transmission and reception timestamp is referenced to an interal 32-bit microseconds counter. The current value of such counter can be retrieved by &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;i:12;184:15&#34;&gt;PLC_ID_TIME_REF_ID&lt;/i&gt; using &lt;xref class=&#34;- topic/xref &#34; href=&#34;GUID-51BE7E9A-45DF-4673-9AE2-7D7163536E44.html&#34; format=&#34;html&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;xref:12;184:15&#34;&gt;&lt;?ditaot usertext?&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;i:13;184:15&#34;&gt;DRV_PLC_PHY_PIBGet&lt;/i&gt;&lt;/xref&gt;.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;li:13;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:24;184:15&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;b:8;184:15&#34;&gt;PLC Transceiver Error handling&lt;/b&gt;. Errors in the PLC transceiver (here called &#34;exceptions&#34;) are reported by the library invoking the callback function set in &lt;xref class=&#34;- topic/xref &#34; href=&#34;GUID-A48A9C4F-4251-4807-A3CB-FE22524FF8B1.html&#34; format=&#34;html&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;xref:13;184:15&#34;&gt;&lt;?ditaot usertext?&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;i:14;184:15&#34;&gt;DRV_PLC_PHY_ExceptionCallbackRegister&lt;/i&gt;&lt;/xref&gt;. Exceptions are described in &lt;xref class=&#34;- topic/xref &#34; href=&#34;GUID-DFD74282-E687-4256-A70B-A787486FF4B5.html&#34; format=&#34;html&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;xref:14;184:15&#34;&gt;&lt;?ditaot usertext?&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;i:15;184:15&#34;&gt;DRV_PLC_PHY_EXCEPTION Enum&lt;/i&gt;&lt;/xref&gt;.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;li:14;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:25;184:15&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;b:9;184:15&#34;&gt;PLC Transmission Enabling/Disabling&lt;/b&gt;. Sometimes it is required to inhibit the G3 MAC RT driver to transmit frames to the PLC medium, but keeping everything else on the driver running and maintaining the Information Base. &lt;xref class=&#34;- topic/xref &#34; href=&#34;GUID-800E7E2E-B682-4D22-8CFA-9820472A966B.html&#34; format=&#34;html&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;xref:15;184:15&#34;&gt;&lt;?ditaot usertext?&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;i:16;184:15&#34;&gt;DRV_PLC_PHY_EnableTX&lt;/i&gt;&lt;/xref&gt; function allow to enable/disable PLC transmissions using the TX Enable pin (PL460 only), keeping other driver mechanisms active, as well as its state machine. An application of this mechanism is the PLC PVDD monitor service, which monitores the PVDD voltage and when it is not in the expected range, PLC transmission is disabled to avoid PL460 damage; when the PVDD voltage is in the expected range, PLC transmission can be enabled again.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;li:15;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:26;184:15&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;b:10;184:15&#34;&gt;Sleep Mode&lt;/b&gt;. &lt;xref class=&#34;- topic/xref &#34; href=&#34;GUID-5DCB155E-01FF-4C75-9BB8-64521923327F.html&#34; format=&#34;html&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;xref:16;184:15&#34;&gt;&lt;?ditaot usertext?&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;i:17;184:15&#34;&gt;DRV_PLC_PHY_Sleep&lt;/i&gt;&lt;/xref&gt; function allows entering/exitting PLC transceiver Sleep mode. In sleep mode, the PLC transceiver consumes as little power as possible. To exit from sleep mode it is not needed to load the PLC binary again. In case Sleep mode is exited, it is reported by the library by invoking the callback function set in &lt;xref class=&#34;- topic/xref &#34; href=&#34;GUID-B7C7F0AD-BC60-40E7-AFBA-2B1E32343684.html&#34; format=&#34;html&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;xref:17;184:15&#34;&gt;&lt;?ditaot usertext?&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;i:18;184:15&#34;&gt;DRV_PLC_PHY_SleepDisableCallbackRegister&lt;/i&gt;&lt;/xref&gt;.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; id=&#34;working-flow&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;topic:7;184:15&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;title:7;184:15&#34;&gt;Working flow&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;body:7;184:15&#34;&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;ul:5;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;li:16;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:27;184:15&#34;&gt;The library's state machine is driven from the interrupt context and the tasks function (&lt;xref class=&#34;- topic/xref &#34; href=&#34;GUID-D08B8E46-56BF-4AE9-996E-B096DE7CCBA5.html&#34; format=&#34;html&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;xref:18;184:15&#34;&gt;&lt;?ditaot usertext?&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;i:19;184:15&#34;&gt;DRV_PLC_PHY_Tasks&lt;/i&gt;&lt;/xref&gt;). Once an event is detected (Transmission Confirm or Receive Indication), a callback (if registered by the application) is given to the application from the tasks function.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;li:17;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/fxsvxuvuwpy/work/2/en-US/GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md&#34; xtrc=&#34;p:28;184:15&#34;&gt;The library does not support queuing of more than one transmission requests. The application must check and ensure that any previous request is completed before submitting a new one. This can be done by registering a Transmission Confirm callback function.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;"/><meta name="wh-source-relpath" content="GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.md"/><meta name="wh-out-relpath" content="GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.html"/>
    <!-- Latest compiled and minified Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="./oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css"/>
    
    <link rel="stylesheet" href="./oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css"/>
    
    <!-- Template default styles  -->
    <link rel="stylesheet" type="text/css" href="./oxygen-webhelp/app/topic-page.css?buildId=2022062014"/>
    
    
    <script src="./oxygen-webhelp/lib/jquery/jquery-3.5.1.min.js"></script>
    
    <script data-main="./oxygen-webhelp/app/topic-page.js" src="./oxygen-webhelp/lib/requirejs/require.js"></script>
<link rel="stylesheet" type="text/css" href="oxygen-webhelp/template/microchip.css?buildId=2022062014"/><link rel="stylesheet" type="text/css" href="oxygen-webhelp/template/notes.css?buildId=2022062014"/>
<script src="mchp-context-help.js"></script>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async="" type="text/javascript"></script>
</head>

    <body id="how-the-library-works" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">
            Jump to main content
        </a>
        
        
        
        
        <header class="navbar navbar-default wh_header">
    <div class="container-fluid">
        <div class="wh_header_flex_container navbar-nav navbar-expand-md navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <a href="index.html" class=" wh_logo d-none d-sm-block "><img src="oxygen-webhelp\template\resources/images/microchip.png" alt="MPLAB Harmony Smart Energy Library "/></a>
                    <div class=" wh_publication_title "><a href="index.html">MPLAB Harmony Smart Energy Library </a></div>
                    
                </div>
                
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                
                
                
            </div>
        </div>
    </div>
</header>
        
        
         
        
        <div class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="search.html"><div class="d-flex justify-contents-around"><div class="flex-grow-1"></div><div class="position-relative flex-grow-1"><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required"/><button type="submit" class="wh_search_button" aria-label="Search"><span class="search_input_text">Search</span></button></div><div class="align-self-center flex-grow-1 ml-2"></div></div></form>
            
            <div class="mchp-color-stripe-grid-container">
  <div class="mchp-main-bar mchp-orange-bar"></div>
  <div class="mchp-main-bar mchp-blue-bar"></div>
  <div class="mchp-main-bar mchp-green-bar"></div>
</div>
            
        </div>
        
        <div class="container-fluid" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none navbar-expand-md" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="index.html"><span>Home</span></a></span></li><li><div class="topicref" data-id="mplab-harmony-smart-energy-library"><div class="title"><a href="GUID-81A73CB2-02C0-41CF-9C28-0AECE56FFF26.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1</ph>
MPLAB® Harmony Smart Energy Library</a></div></div></li><li><div class="topicref" data-id="driver-libraries"><div class="title"><a href="GUID-97853572-2DF9-4BDC-8CC2-427931EE96D9.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.1</ph>
Driver Libraries</a></div></div></li><li><div class="topicref" data-id="plc-phy-driver"><div class="title"><a href="GUID-261B02C6-E685-4C12-8EB7-5E717F054F60.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.1.1</ph>
PLC PHY Driver</a></div></div></li><li class="active"><div class="topicref" data-id="how-the-library-works"><div class="title"><a href="GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.1.1.1</ph>
How the Library Works</a></div></div></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="Collapse sections" title="Collapse sections"></button>
                        
                        
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div>
                        
                        <button type="button" id="wh_toc_button" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        <nav id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-12 d-md-block d-none d-print-none" aria-label="Table of Contents Container">
                            <div id="wh_publication_toc_content">
		                        
                            	<div class=" wh_publication_toc " data-tooltip-position="right"><span class="expand-button-action-labels"><span id="button-expand-action" role="button" aria-label="Expand"></span><span id="button-collapse-action" role="button" aria-label="Collapse"></span><span id="button-pending-action" role="button" aria-label="Pending"></span></span><ul role="tree" aria-label="Table of Contents"><li role="treeitem" aria-expanded="true"><div data-tocid="mplab-harmony-smart-energy-library-d3719e11" class="topicref" data-id="mplab-harmony-smart-energy-library" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action mplab-harmony-smart-energy-library-d3719e11-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-81A73CB2-02C0-41CF-9C28-0AECE56FFF26.html" id="mplab-harmony-smart-energy-library-d3719e11-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1</ph>
MPLAB® Harmony Smart Energy Library</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="true"><div data-tocid="driver-libraries-d3719e19" class="topicref" data-id="driver-libraries" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action driver-libraries-d3719e19-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-97853572-2DF9-4BDC-8CC2-427931EE96D9.html" id="driver-libraries-d3719e19-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.1</ph>
Driver Libraries</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="true"><div data-tocid="plc-phy-driver-d3719e27" class="topicref" data-id="plc-phy-driver" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action plc-phy-driver-d3719e27-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-261B02C6-E685-4C12-8EB7-5E717F054F60.html" id="plc-phy-driver-d3719e27-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.1.1</ph>
PLC PHY Driver</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" class="active"><div data-tocid="how-the-library-works-d3719e35" class="topicref" data-id="how-the-library-works" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-173A4FCA-4C46-47BE-BCDA-0159C4CF2505.html" id="how-the-library-works-d3719e35-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.1.1.1</ph>
How the Library Works</a></div></div></li><li role="treeitem"><div data-tocid="using-the-library-d3719e43" class="topicref" data-id="using-the-library" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-C6935B6F-3F19-4CEE-AE52-998913858742.html" id="using-the-library-d3719e43-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.1.1.2</ph>
Using The Library</a></div></div></li><li role="treeitem"><div data-tocid="configuring-the-library-d3719e51" class="topicref" data-id="configuring-the-library" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-F3B4D4E5-0BE3-42AB-8080-D04E58F54789.html" id="configuring-the-library-d3719e51-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.1.1.3</ph>
Configuring The Library</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="library-interface-d3719e59" class="topicref" data-id="library-interface" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action library-interface-d3719e59-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-98F10C10-D69B-45C3-A273-F3488B67B1A3.html" id="library-interface-d3719e59-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.1.1.4</ph>
Library Interface</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="g3-mac-rt-driver-d3719e495" class="topicref" data-id="g3-mac-rt-driver" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action g3-mac-rt-driver-d3719e495-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-A7685FE8-B336-4379-A26B-C821EBD7CD85.html" id="g3-mac-rt-driver-d3719e495-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.1.2</ph>
G3 MAC RT Driver</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="metrology-driver-d3719e1068" class="topicref" data-id="metrology-driver" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action metrology-driver-d3719e1068-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-2023FB1C-E7E7-4813-9BA3-480FEB57627B.html" id="metrology-driver-d3719e1068-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.1.3</ph>
Metrology Driver</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="rf215-driver-d3719e1447" class="topicref" data-id="rf215-driver" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action rf215-driver-d3719e1447-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-2EE5EBF2-6C99-4D66-9EEC-A0C3C8CD40EF.html" id="rf215-driver-d3719e1447-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.1.4</ph>
RF215 Driver</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="service-libraries-d3719e1875" class="topicref" data-id="service-libraries" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action service-libraries-d3719e1875-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-3DBF4BBC-895F-4E64-901F-C76DB2918FDD.html" id="service-libraries-d3719e1875-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2</ph>
Service Libraries</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="demo-applications-d3719e3287" class="topicref" data-id="demo-applications" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action demo-applications-d3719e3287-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-2188B5B7-760D-4261-AEB9-DDCD9B01A109.html" id="demo-applications-d3719e3287-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3</ph>
Demo Applications</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="getting-started-with-mplab-harmony-plc-stack-d3719e3783" class="topicref" data-id="getting-started-with-mplab-harmony-plc-stack" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action getting-started-with-mplab-harmony-plc-stack-d3719e3783-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-4183CE78-B659-4918-8651-B77A34D15302.html" id="getting-started-with-mplab-harmony-plc-stack-d3719e3783-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">2</ph>
Getting Started with MPLAB® Harmony PLC Stack</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d3719e3888" class="topicref backmatter backmatter_parent" data-id="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d3719e3888-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B.html" id="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d3719e3888-link">Microchip Information</a></div></div></li></ul></div>
		                        
                            </div>
                        </nav>
                    
                    
                    <div class="col-lg-7 col-md-9 col-sm-12" id="wh_topic_body">
                        <button id="wh_close_publication_toc_button" class="close-toc-button d-none" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        <button id="wh_close_topic_toc_button" class="close-toc-button d-none" aria-label="Toggle topic table of content" aria-controls="wh_topic_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="ariaid-title1"><h1 class="- topic/title title topictitle1" id="ariaid-title1" style="">1.1.1.1 How the Library Works</h1><div class="- topic/body body"><p class="- topic/p p">The PLC PHY driver library is a single-client, single-instance based driver interface.</p></div><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title2" id="abstraction-model"><h2 class="- topic/title title topictitle2" id="ariaid-title2" style=""> Abstraction Model</h2><div class="- topic/body body"><p class="- topic/p p">The PLC PHY library communicates with a PLC transceiver using an SPI port, Direct Memory Access and the GPIO controller.</p><p class="- topic/p p">The PLC transceiver performs PHY duties of the communication protocol, thus allowing a high latency attendance from the host MCU.</p><p class="- topic/p p">The PLC PHY library offers the necessary functions to control the transceiver, which include:</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">Library initialization.</p></li><li class="- topic/li li"><p class="- topic/p p">Transmitting and Receiving PLC frames.</p></li><li class="- topic/li li"><p class="- topic/p p">Accessing PLC Information Base (PIB) to get/set configuration parameters.</p></li><li class="- topic/li li"><p class="- topic/p p">Enabling/Disabling transceiver Sleep Mode.</p></li><li class="- topic/li li"><p class="- topic/p p">Check warnings due to Thermal Monitor control.</p></li></ul><p class="- topic/p p">The client can be:</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Application</strong>: Directly access the external PLC device (PL360/PL460) using the APIs provided by the PLC PHY Driver library.</p></li><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">PRIME PAL layer</strong>: Application can run a PLC communication stack (G3/PRIME) by connecting it to the Platform Abstraction Layer (PAL) which can further be connected to the PLC PHY driver. In G3 stack, the PLC PAL is connected to G3-PLC MAC-RT driver instead of PLC PHY driver.</p></li></ul><div class=""><img class="- topic/image image break break" src="GUID-8B02A7C8-7F67-41C1-A3C8-0BDAF8D82163-low.png" alt="PLC_PHY_Library_works"/></div></div></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title3" id="driver-initialization-and-instance-opening"><h2 class="- topic/title title topictitle2" id="ariaid-title3" style=""> Driver Initialization and instance opening</h2><div class="- topic/body body"><p class="- topic/p p">First of all, driver has to be initialized by calling <a class="- topic/xref xref" href="GUID-3FE78AB9-5672-4748-BEEE-ADD364C8774A.html"><em class="+ topic/ph hi-d/i ph i">DRV_PLC_PHY_Initialize</em></a> to get a valid handle.</p><p class="- topic/p p">Then, when an instance is opened by calling <a class="- topic/xref xref" href="GUID-CC7037AE-6A1F-4EAF-894A-9588EEF3BEAD.html"><em class="+ topic/ph hi-d/i ph i">DRV_PLC_PHY_Open</em></a>, the library loads a binary file onto the PLC transceiver. This is done using an internal transfer protocol through SPI port. After binary loading, the library manages the reset and startup of the transceiver. This task is transparent to the user, and the library is not available until binary file is transferred and thus PLC transceiver is ready to operate. At this point, the driver is ready to be configured and used. The status can be checked be calling <a class="- topic/xref xref" href="GUID-E1673D08-316E-42AF-A8D8-9B2D3E9DABCE.html"><em class="+ topic/ph hi-d/i ph i">DRV_PLC_PHY_Status</em></a>.</p></div></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title4" id="plc-transceiver-interrupt-mapping"><h2 class="- topic/title title topictitle2" id="ariaid-title4" style=""> PLC Transceiver Interrupt mapping</h2><div class="- topic/body body"><p class="- topic/p p">PLC transceiver events have to be notified to the MCU in which PLC PHY Driver is running. This is done using a physical connection between the transceiver and an interrupt-capable PIO in MCU.</p><p class="- topic/p p">The library implements <a class="- topic/xref xref" href="GUID-CAC25733-1D0F-44AE-84B4-82D140523B79.html"><em class="+ topic/ph hi-d/i ph i">DRV_PLC_PHY_ExternalInterruptHandler</em></a> function, which is set as callback to be invoked when the interrupt is triggered on PIO. This function then reads information from the transceiver and performs the required operations.</p></div></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title5" id="data-service-functions"><h2 class="- topic/title title topictitle2" id="ariaid-title5" style=""> Data Service Functions</h2><div class="- topic/body body"><p class="- topic/p p">PLC communication capabilities are provided by the following functions:</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Frame Transmission</strong>. Frames are trasnmitted to PLC using <a class="- topic/xref xref" href="GUID-EB2FF372-3E82-4F17-8A72-E36EFEFD1B6A.html"><em class="+ topic/ph hi-d/i ph i">DRV_PLC_PHY_TxRequest</em></a> function.</p></li><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Transmission result</strong> is reported by library through the configured callback function set on <a class="- topic/xref xref" href="GUID-8E175C09-6CD6-4846-A1D3-C49B7CB583E6.html"><em class="+ topic/ph hi-d/i ph i">DRV_PLC_PHY_TxCfmCallbackRegister</em></a>.</p></li><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Frame reception</strong> is reported by library through the configured callback function set on <a class="- topic/xref xref" href="GUID-D33A9EC1-6EB5-4EB8-820A-BF8B6AFAC54D.html"><em class="+ topic/ph hi-d/i ph i">DRV_PLC_PHY_DataIndCallbackRegister</em></a>.</p></li></ul></div></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title6" id="management-functions"><h2 class="- topic/title title topictitle2" id="ariaid-title6" style=""> Management Functions</h2><div class="- topic/body body"><p class="- topic/p p">The PLC PHY library includes management functions to configure it and to retrieve information about the library, transceiver, and PLC medium status. Management functions include:</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Information Base Access</strong>. There are several parameters at PHY level that can be written/read to change behaviour and get information to/from the library. In order to get/set these parameters, <a class="- topic/xref xref" href="GUID-51BE7E9A-45DF-4673-9AE2-7D7163536E44.html"><em class="+ topic/ph hi-d/i ph i">DRV_PLC_PHY_PIBGet</em></a> and <a class="- topic/xref xref" href="GUID-01855CB4-57E8-4BE3-A093-14CBFFAABD51.html"><em class="+ topic/ph hi-d/i ph i">DRV_PLC_PHY_PIBSet</em></a> functions are used. Available parameters are listed on <a class="- topic/xref xref" href="GUID-FB84DD36-66A1-4AC7-8809-C528890A4B16.html"><em class="+ topic/ph hi-d/i ph i">DRV_PLC_PHY_ID Enum (G3-PLC)</em></a> and <a class="- topic/xref xref" href="GUID-35725EB2-BDEE-4B6A-B204-9B892470097A.html"><em class="+ topic/ph hi-d/i ph i">DRV_PLC_PHY_ID Enum (PRIME)</em></a>.</p></li><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">PLC Transceiver Timer Referece</strong>. Every PLC transmission and reception timestamp is referenced to an interal 32-bit microseconds counter. The current value of such counter can be retrieved by <em class="+ topic/ph hi-d/i ph i">PLC_ID_TIME_REF_ID</em> using <a class="- topic/xref xref" href="GUID-51BE7E9A-45DF-4673-9AE2-7D7163536E44.html"><em class="+ topic/ph hi-d/i ph i">DRV_PLC_PHY_PIBGet</em></a>.</p></li><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">PLC Transceiver Error handling</strong>. Errors in the PLC transceiver (here called "exceptions") are reported by the library invoking the callback function set in <a class="- topic/xref xref" href="GUID-A48A9C4F-4251-4807-A3CB-FE22524FF8B1.html"><em class="+ topic/ph hi-d/i ph i">DRV_PLC_PHY_ExceptionCallbackRegister</em></a>. Exceptions are described in <a class="- topic/xref xref" href="GUID-DFD74282-E687-4256-A70B-A787486FF4B5.html"><em class="+ topic/ph hi-d/i ph i">DRV_PLC_PHY_EXCEPTION Enum</em></a>.</p></li><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">PLC Transmission Enabling/Disabling</strong>. Sometimes it is required to inhibit the G3 MAC RT driver to transmit frames to the PLC medium, but keeping everything else on the driver running and maintaining the Information Base. <a class="- topic/xref xref" href="GUID-800E7E2E-B682-4D22-8CFA-9820472A966B.html"><em class="+ topic/ph hi-d/i ph i">DRV_PLC_PHY_EnableTX</em></a> function allow to enable/disable PLC transmissions using the TX Enable pin (PL460 only), keeping other driver mechanisms active, as well as its state machine. An application of this mechanism is the PLC PVDD monitor service, which monitores the PVDD voltage and when it is not in the expected range, PLC transmission is disabled to avoid PL460 damage; when the PVDD voltage is in the expected range, PLC transmission can be enabled again.</p></li><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Sleep Mode</strong>. <a class="- topic/xref xref" href="GUID-5DCB155E-01FF-4C75-9BB8-64521923327F.html"><em class="+ topic/ph hi-d/i ph i">DRV_PLC_PHY_Sleep</em></a> function allows entering/exitting PLC transceiver Sleep mode. In sleep mode, the PLC transceiver consumes as little power as possible. To exit from sleep mode it is not needed to load the PLC binary again. In case Sleep mode is exited, it is reported by the library by invoking the callback function set in <a class="- topic/xref xref" href="GUID-B7C7F0AD-BC60-40E7-AFBA-2B1E32343684.html"><em class="+ topic/ph hi-d/i ph i">DRV_PLC_PHY_SleepDisableCallbackRegister</em></a>.</p></li></ul></div></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title7" id="working-flow"><h2 class="- topic/title title topictitle2" id="ariaid-title7" style=""> Working flow</h2><div class="- topic/body body"><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">The library's state machine is driven from the interrupt context and the tasks function (<a class="- topic/xref xref" href="GUID-D08B8E46-56BF-4AE9-996E-B096DE7CCBA5.html"><em class="+ topic/ph hi-d/i ph i">DRV_PLC_PHY_Tasks</em></a>). Once an event is detected (Transmission Confirm or Receive Indication), a callback (if registered by the application) is given to the application from the tasks function.</p></li><li class="- topic/li li"><p class="- topic/p p">The library does not support queuing of more than one transmission requests. The application must check and ensure that any previous request is completed before submitting a new one. This can be done by registering a Transmission Confirm callback function.</p></li></ul></div></article></article></main></div>
                        
                        
                        
                        
                        
                        
                    </div>
                    
                        <nav role="navigation" id="wh_topic_toc" aria-label="On this page" class="col-lg-2 d-none d-lg-block navbar d-print-none"> 
                            <div id="wh_topic_toc_content">
		                        
	                            <div class=" wh_topic_toc "><div class="wh_topic_label">On this page</div><ul><li class="topic-item"><a href="#abstraction-model" data-tocid="abstraction-model"> Abstraction Model</a></li><li class="topic-item"><a href="#driver-initialization-and-instance-opening" data-tocid="driver-initialization-and-instance-opening"> Driver Initialization and instance opening</a></li><li class="topic-item"><a href="#plc-transceiver-interrupt-mapping" data-tocid="plc-transceiver-interrupt-mapping"> PLC Transceiver Interrupt mapping</a></li><li class="topic-item"><a href="#data-service-functions" data-tocid="data-service-functions"> Data Service Functions</a></li><li class="topic-item"><a href="#management-functions" data-tocid="management-functions"> Management Functions</a></li><li class="topic-item"><a href="#working-flow" data-tocid="working-flow"> Working flow</a></li></ul></div>
	                        	
                        	</div>
                        </nav>
                    
                </div>
            </div>
            
            
            
        </div> 
        <div class="mchp_disclaimer"><p class="mchp_disclaimer_text">The online versions of the documents are provided as a courtesy. Verify all content and data in the device’s PDF documentation found on the device product page.</p></div><footer class="navbar navbar-default wh_footer">
  <div class=" footer-container mx-auto ">
    <div class="footer">
  <div class="mchp-wh-footer">
    <div class="mchp-footer">
      <div class="mchp-footer-tier1">
        <div class="spacer"></div>
        <div class="mchp-footer-container">
          <div class="mchp-footer-links mchp-social-media-links">
            <div class="mchp-component-items">
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.facebook.com/pages/Microchip-Technology-Inc/20320981741" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Facebook" src="oxygen-webhelp/template/resources/images/201016-corp-facebook.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.linkedin.com/company/microchip-technology" target="_blank">
                  <img class="cmp-image__image" alt="Microchip LinkedIn" src="oxygen-webhelp/template/resources/images/201016-corp-linkedin.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://twitter.com/MicrochipTech" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Twitter" src="oxygen-webhelp/template/resources/images/201016-corp-twitter.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.youtube.com/user/MicrochipTechnology" target="_blank">
                  <img class="cmp-image__image" alt="Microchip YouTube" src="oxygen-webhelp/template/resources/images/201016-corp-youtube.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.instagram.com/microchiptechnologyinc/" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Instagram" src="oxygen-webhelp/template/resources/images/201016-corp-instagram.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.weibo.com/microchiptech" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Weibo" src="oxygen-webhelp/template/resources/images/201016-corp-weibo.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.microchip.com/en-us/about/blog" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Blog" src="oxygen-webhelp/template/resources/images/201016-corp-blog.png"/>
                </a>
              </div>
            </div>
          </div>
          <div class="mchp-footer-links">
            <div class="mchp-component-items">
              <div class="mchp-component-item">
                <div class="link">
                  <a href="https://www.microchip.com/about-us/contact-us" class="mchp-link__link">Contact</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information" class="mchp-link__link">Legal</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information/privacy-policy" class="mchp-link__link">Privacy Policy</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information/microchip-cookie-statement" class="mchp-link__link">Cookies</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item">
                <div class="link">
                  <a href="https://careers.microchip.com/" class="mchp-link__link">Careers</a>
                  <span class="mchp-link__separator"></span>
                </div>
              </div>
            </div>
          </div>
          <div class="mchp-footer-newsletter">
            <div class="cmp-text">
              <p>Stay on the leading edge with our blog</p>
            </div>
            <div class="mchp-button-wrapper">
              <a role="button" href="https://www.microchip.com/en-us/about/blog" class="mchp-button mchp-button-regular solid">
                <span class="mchp-button__span">MicroSolutions</span>
              </a>
            </div>
          </div>
        </div>
        <div class="graphic">
          <img src="oxygen-webhelp/template/resources/images/footer-graphic.png"/>
        </div>
      </div>
      <div class="mchp-footer-tier2">
        <p class="mchp-copyright">© Copyright 1998-2022 Microchip Technology Inc. All rights reserved.</p>
      </div>
    </div>
  </div>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async="true" src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-19"></script>
  <script>
    window.dataLayer = window.dataLayer || [];  
    function gtag(){dataLayer.push(arguments);}  
    gtag('js', new Date());   
    gtag('config', 'UA-2724382-19');
  </script>
</div>
  </div>
</footer>
        
        <div id="go2top" class="d-print-none">
            <span class="oxy-icon oxy-icon-up"></span>
        </div>
        
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <div id="modal_img_container"></div>
            <div id="caption"></div>
        </div>
        
        
        
    </body>
</html>